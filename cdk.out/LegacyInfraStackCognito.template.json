{
  "Resources": {
    "CglUserPoolsmsRole0CBFEECC": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Condition": {
                "StringEquals": {
                  "sts:ExternalId": "LegacyInfraStackCognitoCglUserPool9C2339D9"
                }
              },
              "Effect": "Allow",
              "Principal": {
                "Service": "cognito-idp.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": "sns:Publish",
                  "Effect": "Allow",
                  "Resource": "*"
                }
              ],
              "Version": "2012-10-17"
            },
            "PolicyName": "sns-publish"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "LegacyInfraStackCognito/CglUserPool/smsRole/Resource"
      }
    },
    "CglUserPool713659A1": {
      "Type": "AWS::Cognito::UserPool",
      "Properties": {
        "AccountRecoverySetting": {
          "RecoveryMechanisms": [
            {
              "Name": "verified_email",
              "Priority": 1
            }
          ]
        },
        "AdminCreateUserConfig": {
          "AllowAdminCreateUserOnly": false
        },
        "AutoVerifiedAttributes": [
          "email",
          "phone_number"
        ],
        "EmailVerificationMessage": "Thanks for signing up to our awesome app!! Your verification code is {####}",
        "EmailVerificationSubject": "Verify your email for our awesome app!!",
        "EnabledMfas": [
          "SMS_MFA",
          "SOFTWARE_TOKEN_MFA"
        ],
        "MfaConfiguration": "ON",
        "Policies": {
          "PasswordPolicy": {
            "MinimumLength": 12,
            "RequireLowercase": true,
            "RequireNumbers": true,
            "RequireSymbols": true,
            "RequireUppercase": true
          }
        },
        "SmsConfiguration": {
          "ExternalId": "LegacyInfraStackCognitoCglUserPool9C2339D9",
          "SnsCallerArn": {
            "Fn::GetAtt": [
              "CglUserPoolsmsRole0CBFEECC",
              "Arn"
            ]
          }
        },
        "SmsVerificationMessage": "Thanks for signing up to our awesome app!! Your verification code is {####}",
        "UsernameAttributes": [
          "email",
          "phone_number"
        ],
        "UserPoolName": "CglUserAuthorizationPool",
        "VerificationMessageTemplate": {
          "DefaultEmailOption": "CONFIRM_WITH_CODE",
          "EmailMessage": "Thanks for signing up to our awesome app!! Your verification code is {####}",
          "EmailSubject": "Verify your email for our awesome app!!",
          "SmsMessage": "Thanks for signing up to our awesome app!! Your verification code is {####}"
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "LegacyInfraStackCognito/CglUserPool/Resource"
      }
    },
    "CglUserPoolCglAppClient77A6A93A": {
      "Type": "AWS::Cognito::UserPoolClient",
      "Properties": {
        "UserPoolId": {
          "Ref": "CglUserPool713659A1"
        },
        "AccessTokenValidity": 60,
        "AllowedOAuthFlows": [
          "implicit",
          "code"
        ],
        "AllowedOAuthFlowsUserPoolClient": true,
        "AllowedOAuthScopes": [
          "profile",
          "phone",
          "email",
          "openid",
          "aws.cognito.signin.user.admin"
        ],
        "CallbackURLs": [
          "https://example.com"
        ],
        "IdTokenValidity": 60,
        "RefreshTokenValidity": 43200,
        "SupportedIdentityProviders": [
          "COGNITO"
        ],
        "TokenValidityUnits": {
          "AccessToken": "minutes",
          "IdToken": "minutes",
          "RefreshToken": "minutes"
        }
      },
      "Metadata": {
        "aws:cdk:path": "LegacyInfraStackCognito/CglUserPool/CglAppClient/Resource"
      }
    },
    "CDKMetadata": {
      "Type": "AWS::CDK::Metadata",
      "Properties": {
        "Analytics": "v2:deflate64:H4sIAAAAAAAAE02MQQrCMBBFz9J9Om0QXAu5gFQ8QEhHSZtmIDOpi5C721oUV//x/+Nr0P0ZdHOxL27dOHfFUUIoN7FuVoYiS8pOlHnEAZlycljV7m7eM3ohKHfGdCUKu/PjL5jgMcr/dDRVebtAGSjg53vLWquKNCJM3K36BFpD30zsfZtyFL8gDEe+AdYtqSi0AAAA"
      },
      "Metadata": {
        "aws:cdk:path": "LegacyInfraStackCognito/CDKMetadata/Default"
      }
    }
  }
}