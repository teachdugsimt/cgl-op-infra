"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DynamoDBStack = void 0;
const cdk = require("@aws-cdk/core");
const dynamodb = require("@aws-cdk/aws-dynamodb");
class DynamoDBStack extends cdk.Stack {
    constructor(scope, id, props) {
        super(scope, id, props);
        // // dynamo db
        // new dynamodb.Table(this, 'CGLUserAuthorize', {
        //     tableName: "cgl_user_authentication",
        //     partitionKey: { name: 'username', type: dynamodb.AttributeType.STRING },
        //     // TableEncryption.CUSTOMER_MANAGED
        //     // encryption: dynamodb.TableEncryption.CUSTOMER_MANAGED,
        //     // encryptionKey:  {password: },
        // });
        // dynamo db
        const otpTable = new dynamodb.Table(this, 'CglOtpTable', {
            tableName: 'cgl_otp',
            partitionKey: { name: 'variant', type: dynamodb.AttributeType.STRING }
        });
        const userTable = new dynamodb.Table(this, 'CglUserTable', {
            tableName: 'cgl_user',
            partitionKey: { name: 'username', type: dynamodb.AttributeType.STRING },
        });
        const userResetPass = new dynamodb.Table(this, 'CglUserResetPassTable', {
            tableName: 'cgl_user_reset_pass',
            partitionKey: { name: 'id', type: dynamodb.AttributeType.NUMBER },
        });
        const attachTable = new dynamodb.Table(this, 'CGLAttachCode', {
            tableName: "cgl_attach_code",
            partitionKey: { name: 'attach_code', type: dynamodb.AttributeType.STRING }
            // TableEncryption.CUSTOMER_MANAGED
            // encryption: dynamodb.TableEncryption.CUSTOMER_MANAGED,
            // encryptionKey:  {password: },
        });
        const userUploadLink = new dynamodb.Table(this, 'CGLUserUploadLink', {
            tableName: "cgl_user_upload_link",
            partitionKey: { name: 'user_id', type: dynamodb.AttributeType.NUMBER }
        });
        // Export values
        new cdk.CfnOutput(this, "OtpTable", {
            value: otpTable.tableName,
        });
        new cdk.CfnOutput(this, "UserTable", {
            value: userTable.tableName,
        });
        new cdk.CfnOutput(this, "UserResetPassTable", {
            value: userResetPass.tableName,
        });
        new cdk.CfnOutput(this, "AttachTable", {
            value: attachTable.tableName,
        });
        new cdk.CfnOutput(this, "UserUploadLinkTable", {
            value: userUploadLink.tableName,
        });
    }
}
exports.DynamoDBStack = DynamoDBStack;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHluYW1vLWRiLXN0YWNrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZHluYW1vLWRiLXN0YWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHFDQUFxQztBQUNyQyxrREFBa0Q7QUFDbEQsTUFBYSxhQUFjLFNBQVEsR0FBRyxDQUFDLEtBQUs7SUFFeEMsWUFBWSxLQUFvQixFQUFFLEVBQVUsRUFBRSxLQUFzQjtRQUNoRSxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN4QixlQUFlO1FBQ2YsaURBQWlEO1FBQ2pELDRDQUE0QztRQUM1QywrRUFBK0U7UUFDL0UsMENBQTBDO1FBQzFDLGdFQUFnRTtRQUNoRSx1Q0FBdUM7UUFDdkMsTUFBTTtRQUVOLFlBQVk7UUFDWixNQUFNLFFBQVEsR0FBRyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLGFBQWEsRUFBRTtZQUNyRCxTQUFTLEVBQUUsU0FBUztZQUNwQixZQUFZLEVBQUUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRTtTQUN6RSxDQUFDLENBQUM7UUFFSCxNQUFNLFNBQVMsR0FBRyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLGNBQWMsRUFBRTtZQUN2RCxTQUFTLEVBQUUsVUFBVTtZQUNyQixZQUFZLEVBQUUsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRTtTQUUxRSxDQUFDLENBQUM7UUFFSCxNQUFNLGFBQWEsR0FBRyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLHVCQUF1QixFQUFFO1lBQ3BFLFNBQVMsRUFBRSxxQkFBcUI7WUFDaEMsWUFBWSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUU7U0FDcEUsQ0FBQyxDQUFDO1FBRUgsTUFBTSxXQUFXLEdBQUcsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxlQUFlLEVBQUU7WUFDMUQsU0FBUyxFQUFFLGlCQUFpQjtZQUM1QixZQUFZLEVBQUUsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRTtZQUMxRSxtQ0FBbUM7WUFDbkMseURBQXlEO1lBQ3pELGdDQUFnQztTQUNuQyxDQUFDLENBQUM7UUFFSCxNQUFNLGNBQWMsR0FBRyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLG1CQUFtQixFQUFFO1lBQ2pFLFNBQVMsRUFBRSxzQkFBc0I7WUFDakMsWUFBWSxFQUFFLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUU7U0FDekUsQ0FBQyxDQUFDO1FBRUgsZ0JBQWdCO1FBQ2hCLElBQUksR0FBRyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFO1lBQ2hDLEtBQUssRUFBRSxRQUFRLENBQUMsU0FBUztTQUM1QixDQUFDLENBQUM7UUFFSCxJQUFJLEdBQUcsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRTtZQUNqQyxLQUFLLEVBQUUsU0FBUyxDQUFDLFNBQVM7U0FDN0IsQ0FBQyxDQUFDO1FBRUgsSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxvQkFBb0IsRUFBRTtZQUMxQyxLQUFLLEVBQUUsYUFBYSxDQUFDLFNBQVM7U0FDakMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxhQUFhLEVBQUU7WUFDbkMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxTQUFTO1NBQy9CLENBQUMsQ0FBQztRQUVILElBQUksR0FBRyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUscUJBQXFCLEVBQUU7WUFDM0MsS0FBSyxFQUFFLGNBQWMsQ0FBQyxTQUFTO1NBQ2xDLENBQUMsQ0FBQztJQUVQLENBQUM7Q0FDSjtBQWpFRCxzQ0FpRUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjZGsgZnJvbSAnQGF3cy1jZGsvY29yZSc7XG5pbXBvcnQgKiBhcyBkeW5hbW9kYiBmcm9tICdAYXdzLWNkay9hd3MtZHluYW1vZGInO1xuZXhwb3J0IGNsYXNzIER5bmFtb0RCU3RhY2sgZXh0ZW5kcyBjZGsuU3RhY2sge1xuXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IGNkay5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzPzogY2RrLlN0YWNrUHJvcHMpIHtcbiAgICAgICAgc3VwZXIoc2NvcGUsIGlkLCBwcm9wcyk7XG4gICAgICAgIC8vIC8vIGR5bmFtbyBkYlxuICAgICAgICAvLyBuZXcgZHluYW1vZGIuVGFibGUodGhpcywgJ0NHTFVzZXJBdXRob3JpemUnLCB7XG4gICAgICAgIC8vICAgICB0YWJsZU5hbWU6IFwiY2dsX3VzZXJfYXV0aGVudGljYXRpb25cIixcbiAgICAgICAgLy8gICAgIHBhcnRpdGlvbktleTogeyBuYW1lOiAndXNlcm5hbWUnLCB0eXBlOiBkeW5hbW9kYi5BdHRyaWJ1dGVUeXBlLlNUUklORyB9LFxuICAgICAgICAvLyAgICAgLy8gVGFibGVFbmNyeXB0aW9uLkNVU1RPTUVSX01BTkFHRURcbiAgICAgICAgLy8gICAgIC8vIGVuY3J5cHRpb246IGR5bmFtb2RiLlRhYmxlRW5jcnlwdGlvbi5DVVNUT01FUl9NQU5BR0VELFxuICAgICAgICAvLyAgICAgLy8gZW5jcnlwdGlvbktleTogIHtwYXNzd29yZDogfSxcbiAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgLy8gZHluYW1vIGRiXG4gICAgICAgIGNvbnN0IG90cFRhYmxlID0gbmV3IGR5bmFtb2RiLlRhYmxlKHRoaXMsICdDZ2xPdHBUYWJsZScsIHtcbiAgICAgICAgICAgIHRhYmxlTmFtZTogJ2NnbF9vdHAnLFxuICAgICAgICAgICAgcGFydGl0aW9uS2V5OiB7IG5hbWU6ICd2YXJpYW50JywgdHlwZTogZHluYW1vZGIuQXR0cmlidXRlVHlwZS5TVFJJTkcgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB1c2VyVGFibGUgPSBuZXcgZHluYW1vZGIuVGFibGUodGhpcywgJ0NnbFVzZXJUYWJsZScsIHtcbiAgICAgICAgICAgIHRhYmxlTmFtZTogJ2NnbF91c2VyJyxcbiAgICAgICAgICAgIHBhcnRpdGlvbktleTogeyBuYW1lOiAndXNlcm5hbWUnLCB0eXBlOiBkeW5hbW9kYi5BdHRyaWJ1dGVUeXBlLlNUUklORyB9LFxuICAgICAgICAgICAgLy8gc29ydEtleTogeyBuYW1lOiAncGFzc3dvcmQnLCB0eXBlOiBkeW5hbW9kYi5BdHRyaWJ1dGVUeXBlLlNUUklORyB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHVzZXJSZXNldFBhc3MgPSBuZXcgZHluYW1vZGIuVGFibGUodGhpcywgJ0NnbFVzZXJSZXNldFBhc3NUYWJsZScsIHtcbiAgICAgICAgICAgIHRhYmxlTmFtZTogJ2NnbF91c2VyX3Jlc2V0X3Bhc3MnLFxuICAgICAgICAgICAgcGFydGl0aW9uS2V5OiB7IG5hbWU6ICdpZCcsIHR5cGU6IGR5bmFtb2RiLkF0dHJpYnV0ZVR5cGUuTlVNQkVSIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGF0dGFjaFRhYmxlID0gbmV3IGR5bmFtb2RiLlRhYmxlKHRoaXMsICdDR0xBdHRhY2hDb2RlJywge1xuICAgICAgICAgICAgdGFibGVOYW1lOiBcImNnbF9hdHRhY2hfY29kZVwiLFxuICAgICAgICAgICAgcGFydGl0aW9uS2V5OiB7IG5hbWU6ICdhdHRhY2hfY29kZScsIHR5cGU6IGR5bmFtb2RiLkF0dHJpYnV0ZVR5cGUuU1RSSU5HIH1cbiAgICAgICAgICAgIC8vIFRhYmxlRW5jcnlwdGlvbi5DVVNUT01FUl9NQU5BR0VEXG4gICAgICAgICAgICAvLyBlbmNyeXB0aW9uOiBkeW5hbW9kYi5UYWJsZUVuY3J5cHRpb24uQ1VTVE9NRVJfTUFOQUdFRCxcbiAgICAgICAgICAgIC8vIGVuY3J5cHRpb25LZXk6ICB7cGFzc3dvcmQ6IH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHVzZXJVcGxvYWRMaW5rID0gbmV3IGR5bmFtb2RiLlRhYmxlKHRoaXMsICdDR0xVc2VyVXBsb2FkTGluaycsIHtcbiAgICAgICAgICAgIHRhYmxlTmFtZTogXCJjZ2xfdXNlcl91cGxvYWRfbGlua1wiLFxuICAgICAgICAgICAgcGFydGl0aW9uS2V5OiB7IG5hbWU6ICd1c2VyX2lkJywgdHlwZTogZHluYW1vZGIuQXR0cmlidXRlVHlwZS5OVU1CRVIgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBFeHBvcnQgdmFsdWVzXG4gICAgICAgIG5ldyBjZGsuQ2ZuT3V0cHV0KHRoaXMsIFwiT3RwVGFibGVcIiwge1xuICAgICAgICAgICAgdmFsdWU6IG90cFRhYmxlLnRhYmxlTmFtZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbmV3IGNkay5DZm5PdXRwdXQodGhpcywgXCJVc2VyVGFibGVcIiwge1xuICAgICAgICAgICAgdmFsdWU6IHVzZXJUYWJsZS50YWJsZU5hbWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5ldyBjZGsuQ2ZuT3V0cHV0KHRoaXMsIFwiVXNlclJlc2V0UGFzc1RhYmxlXCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiB1c2VyUmVzZXRQYXNzLnRhYmxlTmFtZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbmV3IGNkay5DZm5PdXRwdXQodGhpcywgXCJBdHRhY2hUYWJsZVwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogYXR0YWNoVGFibGUudGFibGVOYW1lLFxuICAgICAgICB9KTtcblxuICAgICAgICBuZXcgY2RrLkNmbk91dHB1dCh0aGlzLCBcIlVzZXJVcGxvYWRMaW5rVGFibGVcIiwge1xuICAgICAgICAgICAgdmFsdWU6IHVzZXJVcGxvYWRMaW5rLnRhYmxlTmFtZSxcbiAgICAgICAgfSk7XG5cbiAgICB9XG59XG4iXX0=