"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MainStack = void 0;
const cdk = require("@aws-cdk/core");
const rds_stack_1 = require("./rds-stack");
const vpc_stack_1 = require("./vpc-stack");
class MainStack extends cdk.Stack {
    constructor(scope, id, props) {
        super(scope, id, props);
        this.vpcResource = new vpc_stack_1.VpcStack(this, 'legacy-vpc-resources');
        const { vpc } = this.vpcResource;
        this.rdsResources = new rds_stack_1.RdsStack(this, 'legacy-rds-resources', { vpc });
        this.rdsResources.addDependency(this.vpcResource);
    }
}
exports.MainStack = MainStack;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmVzdGVkLXN0YWNrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibmVzdGVkLXN0YWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHFDQUFvQztBQUNwQywyQ0FBc0M7QUFDdEMsMkNBQXNDO0FBRXRDLE1BQWEsU0FBVSxTQUFRLEdBQUcsQ0FBQyxLQUFLO0lBS3BDLFlBQVksS0FBb0IsRUFBRSxFQUFVLEVBQUUsS0FBc0I7UUFDaEUsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUE7UUFFdkIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLG9CQUFRLENBQUMsSUFBSSxFQUFFLHNCQUFzQixDQUFDLENBQUE7UUFDN0QsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUE7UUFFaEMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLG9CQUFRLENBQUMsSUFBSSxFQUFFLHNCQUFzQixFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQTtRQUV2RSxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUE7SUFDckQsQ0FBQztDQUVKO0FBaEJELDhCQWdCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNkayBmcm9tICdAYXdzLWNkay9jb3JlJ1xuaW1wb3J0IHsgUmRzU3RhY2sgfSBmcm9tICcuL3Jkcy1zdGFjaydcbmltcG9ydCB7IFZwY1N0YWNrIH0gZnJvbSAnLi92cGMtc3RhY2snXG5cbmV4cG9ydCBjbGFzcyBNYWluU3RhY2sgZXh0ZW5kcyBjZGsuU3RhY2sge1xuICAgIHZwY1Jlc291cmNlOiBWcGNTdGFja1xuICAgIHJkc1Jlc291cmNlczogUmRzU3RhY2tcblxuXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IGNkay5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzPzogY2RrLlN0YWNrUHJvcHMpIHtcbiAgICAgICAgc3VwZXIoc2NvcGUsIGlkLCBwcm9wcylcblxuICAgICAgICB0aGlzLnZwY1Jlc291cmNlID0gbmV3IFZwY1N0YWNrKHRoaXMsICdsZWdhY3ktdnBjLXJlc291cmNlcycpXG4gICAgICAgIGNvbnN0IHsgdnBjIH0gPSB0aGlzLnZwY1Jlc291cmNlXG5cbiAgICAgICAgdGhpcy5yZHNSZXNvdXJjZXMgPSBuZXcgUmRzU3RhY2sodGhpcywgJ2xlZ2FjeS1yZHMtcmVzb3VyY2VzJywgeyB2cGMgfSlcblxuICAgICAgICB0aGlzLnJkc1Jlc291cmNlcy5hZGREZXBlbmRlbmN5KHRoaXMudnBjUmVzb3VyY2UpXG4gICAgfVxuXG59Il19